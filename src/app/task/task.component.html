<h1>Todo list</h1>
<div (click)="showModalCreateTask()" class="button-add-concession">
    <button class="btn-primary">Ajouter une concession <svg xmlns="http://www.w3.org/2000/svg" width="1em" height="1em"
            preserveAspectRatio="xMidYMid meet" viewBox="0 0 20 20">
            <path fill="currentColor" fill-rule="evenodd"
                d="M10 18a8 8 0 1 0 0-16a8 8 0 0 0 0 16Zm.75-11.25a.75.75 0 0 0-1.5 0v2.5h-2.5a.75.75 0 0 0 0 1.5h2.5v2.5a.75.75 0 0 0 1.5 0v-2.5h2.5a.75.75 0 0 0 0-1.5h-2.5v-2.5Z"
                clip-rule="evenodd" />
        </svg>
    </button>
</div>

<div *ngIf="toggleModal == true" class="container-modal">
    <div (click)="toggleModal = !toggleModal" id="backdrop"></div>
    <div class="modal">
        <div class="modal-top">
            <h3>{{createTask === true ? 'Create task ' : 'Modify task'}}</h3>
            <img (click)="toggleModal = !toggleModal" src="./../../../../assets/svg/cross-modal.svg" />

        </div>

        <form (ngSubmit)="onSubmit(createTask)" [formGroup]="taskForm" *ngIf="taskForm" class="container-form">
            <div class="input_column_left">

                <div class="input_row_left">
                    <label>Nom *</label>

                    <input [class.input-error]="taskForm.get('name')?.touched && taskForm.get('name')?.invalid"
                        type="text" formControlName="name">
                    <span *ngIf="taskForm.get('name')?.touched && taskForm.get('name')?.invalid" class="error">Nom
                        invalide</span>
                </div>

                <div class="input_row_left">
                    <label>Addresse deux</label>
                    <input
                        [class.input-error]="taskForm.get('description')?.touched && taskForm.get('address_two')?.invalid"
                        type="text" formControlName="address_two">
                    <span *ngIf="taskForm.get('description')?.touched && taskForm.get('description')?.invalid"
                        class="error">Ce
                        champs est requis !</span>
                </div>


                <!-- <div class="required-fields">
                    <p>* Champs obligatoires</p>
                </div> -->
            </div>

        </form>

    </div>
</div>
<table class="isNotTable">
    <thead>
        <tr class="titre">

            <th>Actions</th>

        </tr>
    </thead>
    <tbody *ngFor="let task of tasksList">
        <tr align="center">
            <td>{{task.name}}</td>

            <td>{{task.description}}</td>

            <td class="td_button"><button class="btn-primary" (click)="showModalUpdateTask(task)">Modifier</button>
                <button class="btn-danger"
                    (click)="toggleAlert = !toggleAlert; idCurrentClickedTask = task.id">Supprimer</button>
            </td>
        </tr>
    </tbody>

</table>